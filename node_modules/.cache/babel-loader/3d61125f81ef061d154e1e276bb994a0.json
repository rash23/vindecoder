{"ast":null,"code":"import _regeneratorRuntime from\"/Users/v.horodetskyi/Documents/vindecoder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/v.horodetskyi/Documents/vindecoder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var generateFetchError=function generateFetchError(response){var error=new Error('Request Failed');error.statusCode=response.status;error.statusMessage=response.statusText;return error;};export var request=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,initRequest){var response,contentType;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url,initRequest);case 2:response=_context.sent;if(!response.ok){_context.next=12;break;}contentType=response.headers.get('content-type');if(!(contentType!==null&&contentType!==void 0&&contentType.includes('application/json'))){_context.next=9;break;}_context.next=8;return response.json();case 8:return _context.abrupt(\"return\",_context.sent);case 9:_context.next=11;return response.text();case 11:return _context.abrupt(\"return\",_context.sent);case 12:throw generateFetchError(response);case 13:case\"end\":return _context.stop();}}},_callee);}));return function request(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["generateFetchError","response","error","Error","statusCode","status","statusMessage","statusText","request","url","initRequest","fetch","ok","contentType","headers","get","includes","json","text"],"sources":["/Users/v.horodetskyi/Documents/vindecoder/src/helpers/request.js"],"sourcesContent":["const generateFetchError = (response) => {\n\tconst error = new Error('Request Failed');\n\terror.statusCode = response.status;\n\terror.statusMessage = response.statusText;\n\n\treturn error;\n};\n\nexport const request = async (url, initRequest) => {\n\tconst response = await fetch(url, initRequest);\n\tif (response.ok) {\n\t\tconst contentType = response.headers.get('content-type');\n\n\t\tif (contentType?.includes('application/json')) {\n\t\t\treturn await response.json();\n\t\t}\n\n\t\treturn await response.text();\n\t}\n\tthrow generateFetchError(response);\n};\n"],"mappings":"8QAAA,GAAMA,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,QAAD,CAAc,CACxC,GAAMC,MAAK,CAAG,GAAIC,MAAJ,CAAU,gBAAV,CAAd,CACAD,KAAK,CAACE,UAAN,CAAmBH,QAAQ,CAACI,MAA5B,CACAH,KAAK,CAACI,aAAN,CAAsBL,QAAQ,CAACM,UAA/B,CAEA,MAAOL,MAAP,CACA,CAND,CAQA,MAAO,IAAMM,QAAO,4FAAG,iBAAOC,GAAP,CAAYC,WAAZ,mKACCC,MAAK,CAACF,GAAD,CAAMC,WAAN,CADN,QAChBT,QADgB,mBAElBA,QAAQ,CAACW,EAFS,0BAGfC,WAHe,CAGDZ,QAAQ,CAACa,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAHC,MAKjBF,WALiB,SAKjBA,WALiB,WAKjBA,WAAW,CAAEG,QAAb,CAAsB,kBAAtB,CALiB,gDAMPf,SAAQ,CAACgB,IAAT,EANO,qFASRhB,SAAQ,CAACiB,IAAT,EATQ,qEAWhBlB,mBAAkB,CAACC,QAAD,CAXF,wDAAH,kBAAPO,QAAO,gDAAb"},"metadata":{},"sourceType":"module"}