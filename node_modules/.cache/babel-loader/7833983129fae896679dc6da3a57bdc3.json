{"ast":null,"code":"import _regeneratorRuntime from\"/Users/v.horodetskyi/Documents/vindecoder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/v.horodetskyi/Documents/vindecoder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/v.horodetskyi/Documents/vindecoder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{StyledContainer}from'../styles/form.styled';import{StyledLi,StyledTitle}from'../styles/results.styled';import Card from'./card';import{request}from'../helpers/request';import{useState}from'react';import{StyledLink}from'../styles/form.styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LastFiveVins=function LastFiveVins(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var arr=JSON.parse(sessionStorage.getItem('storage'));var reverseArr={};if(arr){reverseArr=Object.values(arr).reverse();}var decodeVin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var info;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(e.target.tagName==='LI')){_context.next=6;break;}_context.next=4;return request(\"https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVinValuesExtended/\".concat(e.target.textContent,\"?format=json\"),{method:'GET'});case 4:info=_context.sent;setState(info.Results[0]);case 6:case\"end\":return _context.stop();}}},_callee);}));return function decodeVin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(StyledContainer,{children:[/*#__PURE__*/_jsx(StyledLink,{to:'/vindecoder',children:\"Go back\"}),/*#__PURE__*/_jsx(StyledTitle,{children:\"Last five results:\"}),/*#__PURE__*/_jsx(\"ul\",{onClick:decodeVin,children:Object.entries(reverseArr).map(function(item,index){if(Number(index)<=4){return/*#__PURE__*/_jsx(StyledLi,{children:item[1].obj},index);}return false;})})]}),/*#__PURE__*/_jsx(Card,{data:state})]});};export default LastFiveVins;","map":{"version":3,"names":["StyledContainer","StyledLi","StyledTitle","Card","request","useState","StyledLink","LastFiveVins","state","setState","arr","JSON","parse","sessionStorage","getItem","reverseArr","Object","values","reverse","decodeVin","e","preventDefault","target","tagName","textContent","method","info","Results","entries","map","item","index","Number","obj"],"sources":["/Users/v.horodetskyi/Documents/vindecoder/src/app/last-five-results.jsx"],"sourcesContent":["import { StyledContainer } from '../styles/form.styled';\nimport { StyledLi, StyledTitle } from '../styles/results.styled';\nimport Card from './card';\nimport { request } from '../helpers/request';\nimport { useState } from 'react';\nimport { StyledLink } from '../styles/form.styled';\n\nconst LastFiveVins = () => {\n\tconst [state, setState] = useState();\n\n\tconst arr = JSON.parse(sessionStorage.getItem('storage'));\n\n\tlet reverseArr = {};\n\n\tif (arr) {\n\t\treverseArr = Object.values(arr).reverse();\n\t}\n\n\tconst decodeVin = async (e) => {\n\t\te.preventDefault();\n\n\t\tif (e.target.tagName === 'LI') {\n\t\t\tconst info = await request(`https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVinValuesExtended/${e.target.textContent}?format=json`, {\n\t\t\t\tmethod: 'GET',\n\t\t\t});\n\t\t\tsetState(info.Results[0]);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<StyledContainer>\n\t\t\t\t<StyledLink to={'/vindecoder'}>Go back</StyledLink>\n\t\t\t\t<StyledTitle>Last five results:</StyledTitle>\n\t\t\t\t<ul onClick={decodeVin}>\n\t\t\t\t\t{Object.entries(reverseArr).map((item, index) => {\n\t\t\t\t\t\tif (Number(index) <= 4) {\n\t\t\t\t\t\t\treturn <StyledLi key={index}>{item[1].obj}</StyledLi>;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</StyledContainer>\n\t\t\t<Card data={state} />\n\t\t</>\n\t);\n};\n\nexport default LastFiveVins;\n"],"mappings":"6YAAA,OAASA,eAAT,KAAgC,uBAAhC,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,0BAAtC,CACA,MAAOC,KAAP,KAAiB,QAAjB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,uBAA3B,C,6IAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CAC1B,cAA0BF,QAAQ,EAAlC,wCAAOG,KAAP,eAAcC,QAAd,eAEA,GAAMC,IAAG,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAX,CAAZ,CAEA,GAAIC,WAAU,CAAG,EAAjB,CAEA,GAAIL,GAAJ,CAAS,CACRK,UAAU,CAAGC,MAAM,CAACC,MAAP,CAAcP,GAAd,EAAmBQ,OAAnB,EAAb,CACA,CAED,GAAMC,UAAS,4FAAG,iBAAOC,CAAP,6HACjBA,CAAC,CAACC,cAAF,GADiB,KAGbD,CAAC,CAACE,MAAF,CAASC,OAAT,GAAqB,IAHR,gDAIGnB,QAAO,2EAAoEgB,CAAC,CAACE,MAAF,CAASE,WAA7E,iBAAwG,CACjIC,MAAM,CAAE,KADyH,CAAxG,CAJV,QAIVC,IAJU,eAOhBjB,QAAQ,CAACiB,IAAI,CAACC,OAAL,CAAa,CAAb,CAAD,CAAR,CAPgB,sDAAH,kBAATR,UAAS,4CAAf,CAWA,mBACC,wCACC,MAAC,eAAD,yBACC,KAAC,UAAD,EAAY,EAAE,CAAE,aAAhB,qBADD,cAEC,KAAC,WAAD,iCAFD,cAGC,WAAI,OAAO,CAAEA,SAAb,UACEH,MAAM,CAACY,OAAP,CAAeb,UAAf,EAA2Bc,GAA3B,CAA+B,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAChD,GAAIC,MAAM,CAACD,KAAD,CAAN,EAAiB,CAArB,CAAwB,CACvB,mBAAO,KAAC,QAAD,WAAuBD,IAAI,CAAC,CAAD,CAAJ,CAAQG,GAA/B,EAAeF,KAAf,CAAP,CACA,CACD,MAAO,MAAP,CACA,CALA,CADF,EAHD,GADD,cAaC,KAAC,IAAD,EAAM,IAAI,CAAEvB,KAAZ,EAbD,GADD,CAiBA,CAvCD,CAyCA,cAAeD,aAAf"},"metadata":{},"sourceType":"module"}